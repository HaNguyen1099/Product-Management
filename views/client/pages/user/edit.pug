extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/box-head.pug 

block main
    +alert-success(5000)
    +alert-error(5000)

    .container.my-3 
        .row
            .col-12
                +box-head("Chỉnh sửa thông tin tài khoản")

                form(
                    action=`/user/edit?_method=PATCH`
                    method="POST"
                    enctype="multipart/form-data"
                )
                    div(class="form-group")
                        label(for="fullName") Họ tên:
                        input(
                            type="text"
                            class="form-control"
                            id="fullName"
                            name="fullName"
                            require
                            value=user.fullName
                        )
                    div(class="form-group")
                        label(for="email") Email:
                        input(
                            type="email"
                            id="email"
                            class="form-control"
                            name="email"
                            require
                            value=user.email
                        ) 
                    div(class="form-group")
                        label(for="password") Mật khẩu:
                        input(
                            type="password"
                            class="form-control"
                            id="password"
                            name="password"
                        )
                    div(class="form-group")
                        label(for="phone") Số điện thoại:
                        input(
                            type="text"
                            class="form-control"
                            id="phone"
                            name="phone"
                            value=user.phone
                        )
                    div(
                        class="form-group"
                        upload-image
                    )
                        label(for="avatar") Avatar
                        input(
                            type="file"
                            class="form-control-file"
                            id="avatar"
                            name="avatar"
                            accept="image/*"
                            upload-image-input
                        )
                        div(class="image-container")
                            img(
                                src=user.avatar
                                upload-image-preview
                                class="image-preview"
                            )
                            button.close(type='button', aria-label='Close' class="close-button d-none")
                                span(aria-hidden='true') &times;
                    div(class="form-group")
                        button(
                            type="submit"
                            class="btn btn-primary"
                        ) Cập nhật
                    
    script(src="/js/script.js") 


    